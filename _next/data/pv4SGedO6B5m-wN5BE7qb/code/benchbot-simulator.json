{"pageProps":{"codeData":{"content":"<p><strong>NOTE: this simulator is retired. It was based on Isaac Sim 2019.2, which used Unreal Engine. We have migrated to the new Omniverse-powered Isaac Sim. See <a href=\"https://github.com/qcr/benchbot_sim_omni\">benchbot_sim_omni</a> for details.</strong></p>\n<h1>BenchBot Simulator for Unreal-powered Isaac Sim (2019.2) - retired!</h1>\n<p><a href=\"http://benchbot.org\"><picture><img alt=\"BenchBot project\" src=\"https://img.shields.io/badge/collection-BenchBot-%231a2857\"></picture></a>\n<a href=\"https://qcr.github.io\"><picture><img alt=\"QUT Centre for Robotics Open Source\" src=\"https://github.com/qcr/qcr.github.io/raw/master/misc/badge.svg\"></picture></a>\n<picture><img alt=\"Primary language\" src=\"https://img.shields.io/github/languages/top/qcr/benchbot_simulator\"></picture>\n<a href=\"./LICENSE.txt\"><picture><img alt=\"License\" src=\"https://img.shields.io/github/license/qcr/benchbot_simulator\"></picture></a></p>\n<p><video autoplay=\"\" muted=\"\" loop=\"\" poster=\"/_next/static/images/benchbot_simulator-0194a01dd7a2f34b0b6a9e53bd88dc2e.webp\"><source src=\"/_next/static/images/benchbot_simulator-0194a01dd7a2f34b0b6a9e53bd88dc2e.webm\" type=\"video/webm\"><source src=\"/_next/static/images/benchbot_simulator-0194a01dd7a2f34b0b6a9e53bd88dc2e.mp4\" type=\"video/mp4\">benchbot_simulator</video></p>\n<p>This simulator is an extension of the <a href=\"https://developer.nvidia.com/isaac-sdk\">NVIDIA Isaac SDK</a> that establishes ROS communications to a running instance of an Unreal Engine-based <a href=\"https://developer.nvidia.com/isaac-sim\">NVIDIA Isaac SIM</a>. This simulator is explicitly linked to version 2019.2 of Isaac, the last version with direct support for the Unreal Engine-based simulator. This simulator is retired, as we have moved to the latest Isaac Sim which uses <a href=\"https://developer.nvidia.com/nvidia-omniverse\">Omniverse</a>. See <a href=\"https://github.com/qcr/benchbot_sim_omni\">benchbot_sim_omni</a> for details.</p>\n<p>This simulator provides direct access to the following data on a robot, simulated in Unreal Engine. Access is via ROS on the topic provided in brackets:</p>\n<ul>\n<li>RGB images from the top camera (<code>/camera/color/image_raw</code>)</li>\n<li>Camera information for RGB images from the top camera (<code>/camera/color/camera_info</code>)</li>\n<li>Depth images from the top camera (<code>/camera/depth/image_raw</code>)</li>\n<li>Camera information for depth images from the top camera (<code>/camera/depth/camera_info</code>)</li>\n<li>Laserscan data from the LiDAR (<code>/scan_laser</code>)</li>\n<li>Raw odometry data (<code>/odom</code>)</li>\n<li>A full transform tree (<code>/tf</code>)</li>\n</ul>\n<p>Direct control of the robot is also facilitated via:</p>\n<ul>\n<li>3D twist velocities sent to topic <code>/cmd_vel</code></li>\n</ul>\n<h2>Installing the simulator</h2>\n<p><strong>Please see the note at the top of the page; installation of this Simulator in isolation is generally not what you want!</strong></p>\n<p>If you are sure you need to install the simulator in isolation, the following steps should be sufficient. Note there are a significant number of driver &amp; software requirements for your system:</p>\n<ol>\n<li>\n<p>Download version 2019.2 of the Isaac SDK from the <a href=\"https://developer.nvidia.com/isaac/downloads\">NVIDIA site</a>. If creating your own environments, also download version 2019.2 of Isaac SIM (<em>not</em> NavSim). You will have to create / sign in to an NVIDIA developer account, and look in the \"Archive\" drop down for version 2019.2.</p>\n</li>\n<li>\n<p>Either setup your system with Isaac SIM, or download our environments:</p>\n<p>a) Follow the <a href=\"https://docs.nvidia.com/isaac/isaac_sim/setup.html\">install instructions</a> for Isaac SIM 2019.2 to get Unreal Engine (through IsaacSimProject) running on your system. You will have to link Epic Games to your Github account to get access.</p>\n<p>b) Download our latest environments: <a href=\"https://github.com/benchbot-addons/envs_isaac_develop/blob/master/.remote\">Isaac Development Environments</a>, and <a href=\"https://github.com/benchbot-addons/envs_isaac_challenge/blob/master/.remote\">Isaac Challenge Environments</a></p>\n</li>\n<li>\n<p>Install the Isaac SDK by following the instructions <a href=\"https://docs.nvidia.com/isaac/archive/2019.2/doc/setup.html\">here</a>.</p>\n</li>\n<li>\n<p>Clone these simulator wrapper, apply our patches to the installed Isaac SDK, &amp; build the simulator using the Bazel wrapper script (ensure the environment variable <code>ISAAC_SDK_PATH</code> is set to where you installed Isaac SDK):</p>\n<pre><code>u@pc:~$ git clone https://github.com/qcr/benchbot_sim_unreal &amp;&amp; cd benchbot_sim_unreal\nu@pc:~$ .isaac_patches/apply_patches\nu@pc:~$ ./bazelros build //apps/benchbot_simulator\n</code></pre>\n</li>\n</ol>\n<h2>Running the simulator</h2>\n<p>This simulator interface is run alongside a running Isaac Unreal Engine Simulator. To get both components running:</p>\n<ol>\n<li>\n<p>Start the Unreal Engine Simulator, either via our precompiled environments or the IsaacSimProject Unreal Editor:</p>\n<pre><code>u@pc:~$ ./IsaacSimProject &lt;map_name&gt; \\\n    -isaac_sim_config_json='&lt;path_to_isaac&gt;/apps/carter/carter_sim/bridge_config/carter_full.json' \\\n    -windowed -ResX=960 -ResY=540 -vulkan -game\n</code></pre>\n</li>\n<li>\n<p>Launch this simulator's Isaac application (you first need to hardcode the pose unfortunately...):</p>\n<pre><code>u@pc:~$ START_POSE=&lt;robot_start_pose&gt; \\\n    sed -i \"0,/\\\"pose\\\":/{s/\\(\\\"pose\\\": \\)\\(.*\\)/\\1$START_POSE}\" \\\n    &lt;path_to_isaac&gt;/apps/carter/carter_sim/bridge_config/carter_full_config.json\nu@pc:~$ ./bazelros run //apps/benchbot_simulator\n</code></pre>\n</li>\n</ol>\n<p>At this point you will have a running Isaac Unreal Engine Simulator, with sensorimotor data available from the robot in ROS!</p>\n<h2>Using this simulator with the BenchBot Robot Controller</h2>\n<p>The <a href=\"https://github.com/qcr/benchbot_robot_controller\">BenchBot Robot Controller</a> is a wrapping ROS / HTTP hybrid script that manages running robots and their required subprocesses. See the <code>carter_sim.yaml</code> configuration in the <a href=\"https://github.com/qcr/benchbot_supervisor\">BenchBot Supervisor</a> for an example configuration of how to run BenchBot Simulator through the Robot Controller.</p>\n","name":"BenchBot Simulator (Isaac)","type":"code","url":"https://github.com/qcr/benchbot_simulator","image":"./docs/benchbot_simulator.gif","_images":["/_next/static/images/benchbot_simulator-0194a01dd7a2f34b0b6a9e53bd88dc2e.webm","/_next/static/images/benchbot_simulator-0194a01dd7a2f34b0b6a9e53bd88dc2e.mp4","/_next/static/images/benchbot_simulator-0194a01dd7a2f34b0b6a9e53bd88dc2e.webp","/_next/static/images/benchbot_simulator-0194a01dd7a2f34b0b6a9e53bd88dc2e.jpg"],"src":"/content/benchbot/benchbot-simulator.md","id":"benchbot-simulator","image_position":"center"}},"__N_SSG":true}